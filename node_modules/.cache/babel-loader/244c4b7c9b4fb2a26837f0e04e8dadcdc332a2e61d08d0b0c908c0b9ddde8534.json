{"ast":null,"code":"import{useRef,useEffect}from\"react\";// Make an API request to `/api/{path}`\nexport function apiRequest(path){var method=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"GET\";var data=arguments.length>2?arguments[2]:undefined;return fetch(\"/api/\".concat(path),{method:method,headers:{\"Content-Type\":\"application/json\"},body:data?JSON.stringify(data):undefined}).then(function(response){return response.json();}).then(function(response){if(response.status===\"error\"){throw new CustomError(response.code,response.message);}else{return response.data;}});}// Make an API request to any external URL\nexport function apiRequestExternal(url){var method=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"GET\";var data=arguments.length>2?arguments[2]:undefined;return fetch(url,{method:method,headers:{accept:\"application/json\",\"Content-Type\":\"application/json\"},body:data?JSON.stringify(data):undefined}).then(function(response){return response.json();});}// Create an Error with custom message and code\nexport function CustomError(code,message){var error=new Error(message);error.code=code;return error;}// Hook that returns previous value of state\nexport function usePrevious(state){var ref=useRef();useEffect(function(){ref.current=state;});return ref.current;}","map":{"version":3,"names":["useRef","useEffect","apiRequest","path","method","data","fetch","headers","body","JSON","stringify","undefined","then","response","json","status","CustomError","code","message","apiRequestExternal","url","accept","error","Error","usePrevious","state","ref","current"],"sources":["/Users/onuryilmaz/Desktop/Workspace/Tokyay/Business/WEB/blackdawn/web/src/util/util.js"],"sourcesContent":["import { useRef, useEffect } from \"react\";\n\n// Make an API request to `/api/{path}`\nexport function apiRequest(path, method = \"GET\", data) {\n  return fetch(`/api/${path}`, {\n    method: method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: data ? JSON.stringify(data) : undefined,\n  })\n    .then((response) => response.json())\n    .then((response) => {\n      if (response.status === \"error\") {\n        throw new CustomError(response.code, response.message);\n      } else {\n        return response.data;\n      }\n    });\n}\n\n// Make an API request to any external URL\nexport function apiRequestExternal(url, method = \"GET\", data) {\n  return fetch(url, {\n    method: method,\n    headers: {\n      accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: data ? JSON.stringify(data) : undefined,\n  }).then((response) => response.json());\n}\n\n// Create an Error with custom message and code\nexport function CustomError(code, message) {\n  const error = new Error(message);\n  error.code = code;\n  return error;\n}\n\n// Hook that returns previous value of state\nexport function usePrevious(state) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = state;\n  });\n  return ref.current;\n}\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAEzC;AACA,MAAO,SAASC,WAAU,CAACC,IAAI,CAAwB,IAAtBC,OAAM,2DAAG,KAAK,IAAEC,KAAI,2CACnD,MAAOC,MAAK,gBAASH,IAAI,EAAI,CAC3BC,MAAM,CAAEA,MAAM,CACdG,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEH,IAAI,CAAGI,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAGM,SACtC,CAAC,CAAC,CACCC,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACE,MAAM,GAAK,OAAO,CAAE,CAC/B,KAAM,IAAIC,YAAW,CAACH,QAAQ,CAACI,IAAI,CAAEJ,QAAQ,CAACK,OAAO,CAAC,CACxD,CAAC,IAAM,CACL,MAAOL,SAAQ,CAACR,IAAI,CACtB,CACF,CAAC,CAAC,CACN,CAEA;AACA,MAAO,SAASc,mBAAkB,CAACC,GAAG,CAAwB,IAAtBhB,OAAM,2DAAG,KAAK,IAAEC,KAAI,2CAC1D,MAAOC,MAAK,CAACc,GAAG,CAAE,CAChBhB,MAAM,CAAEA,MAAM,CACdG,OAAO,CAAE,CACPc,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAClB,CAAC,CACDb,IAAI,CAAEH,IAAI,CAAGI,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAGM,SACtC,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACxC,CAEA;AACA,MAAO,SAASE,YAAW,CAACC,IAAI,CAAEC,OAAO,CAAE,CACzC,GAAMI,MAAK,CAAG,GAAIC,MAAK,CAACL,OAAO,CAAC,CAChCI,KAAK,CAACL,IAAI,CAAGA,IAAI,CACjB,MAAOK,MAAK,CACd,CAEA;AACA,MAAO,SAASE,YAAW,CAACC,KAAK,CAAE,CACjC,GAAMC,IAAG,CAAG1B,MAAM,EAAE,CACpBC,SAAS,CAAC,UAAM,CACdyB,GAAG,CAACC,OAAO,CAAGF,KAAK,CACrB,CAAC,CAAC,CACF,MAAOC,IAAG,CAACC,OAAO,CACpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}