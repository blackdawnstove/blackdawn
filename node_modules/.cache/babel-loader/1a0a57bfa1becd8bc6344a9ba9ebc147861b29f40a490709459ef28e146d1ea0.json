{"ast":null,"code":"import { PREFIX as t, OBJECT as e, UNDEFINED as r } from \"@analytics/type-utils\";\nvar l = \"global\",\n  o = t + \"global\" + t,\n  n = typeof self === e && self.self === self && self || typeof global === e && global.global === global && global || void 0;\nfunction a(t) {\n  return n[o][t];\n}\nfunction f(t, e) {\n  return n[o][t] = e;\n}\nfunction i(t) {\n  delete n[o][t];\n}\nfunction u(t, e, r) {\n  var l;\n  try {\n    if (b(t)) {\n      var o = window[t];\n      l = o[e].bind(o);\n    }\n  } catch (t) {}\n  return l || r;\n}\nn[o] || (n[o] = {});\nvar c = {};\nfunction b(t) {\n  if (typeof c[t] !== r) return c[t];\n  try {\n    var e = window[t];\n    e.setItem(r, r), e.removeItem(r);\n  } catch (e) {\n    return c[t] = !1;\n  }\n  return c[t] = !0;\n}\nexport { l as GLOBAL, o as KEY, a as get, n as globalContext, b as hasSupport, i as remove, f as set, u as wrap };","map":{"version":3,"mappings":";AAEaA,QAAS;EAETC,IAAMC,IAFG,WAEeA;EAExBC,WAAwBC,SAASC,KAAUD,KAAKA,SAASA,QAAQA,eAAiBE,WAAWD,KAAUC,OAAMA,WAAaA,UAAUA,eAAWC;AAAAA,SAW5IC,EAAIC;EAClB,OAAON,EAAcF,GAAKQ;AAAAA;AAAAA,SASZC,EAAID,GAAKE;EACvB,OAAOR,EAAcF,GAAKQ,KAAOE;AAAAA;AAAAA,SAOnBC,EAAOH;EAAAA,OACdN,EAAcF,GAAKQ;AAAAA;AAAAA,SASZI,EAAKC,GAAMC,GAAWC;EACpC,IAAIC;EACJ;IACE,IAAIC,EAAWJ,IAAO;MACpB,IAAMK,IAAUC,OAAON;MACvBG,IAAKE,EAAQJ,GAAWM,KAAKF;IAAAA;EAAAA,CAE/B,QAAMG;EACR,OAAOL,KAAMD;AAAAA;AA5CVb,EAAcF,OACjBE,EAAcF,KAAO;AA8CvB,IAAMsB,IAAQ;AAAA,SACEL,EAAWJ;EACzB,WAAWS,EAAMT,OAAUU,GACzB,OAAOD,EAAMT;EAEf;IACE,IAAMK,IAAUC,OAAON;IAEvBK,EAAQM,QAAQD,GAAWA,IAC3BL,EAAQO,WAAWF;EAAAA,CACnB,QAAOG;IACP,OAAOJ,EAAMT,MAAQ;EAAA;EAEvB,OAAOS,EAAMT,MAAQ;AAAA;AAAA","names":["GLOBAL","KEY","PREFIX","globalContext","self","OBJECT","global","this","get","key","set","value","remove","wrap","type","operation","fallback","fn","hasSupport","storage","window","bind","e","cache","UNDEFINED","setItem","removeItem","err"],"sources":["/Users/onuryilmaz/Desktop/Workspace/Tokyay/Business/WEB/blackdawn/web/node_modules/@analytics/global-storage-utils/src/index.js"],"sourcesContent":["import { OBJECT, PREFIX, UNDEFINED } from '@analytics/type-utils'\n\nexport const GLOBAL = 'global'\n\nexport const KEY = PREFIX + GLOBAL + PREFIX\n\nexport const globalContext = (typeof self === OBJECT && self.self === self && self) || (typeof global === OBJECT && global[GLOBAL] === global && global) || this\n\n/* initialize global object */\nif (!globalContext[KEY]) {\n  globalContext[KEY] = {}\n}\n/**\n * Get value from global context\n * @param {string} key - Key of value to get\n * @returns {*} value\n */\nexport function get(key) {\n  return globalContext[KEY][key]\n}\n\n/**\n * Set value to global context\n * @param {string} key - Key of value to set\n * @param {*} value \n * @returns value\n */\nexport function set(key, value) {\n  return globalContext[KEY][key] = value\n}\n\n/**\n * Remove value to global context\n * @param {string} key - Key of value to remove\n */\nexport function remove(key) {\n  delete globalContext[KEY][key]\n}\n\n/**\n * Wrap localStorage & session storage checks\n * @param {string} type - localStorage or sessionStorage\n * @param {string} storageOperation - getItem, setItem, removeItem\n * @param {function} fallbackFunction - fallback function\n */\nexport function wrap(type, operation, fallback) {\n  let fn\n  try {\n    if (hasSupport(type)) {\n      const storage = window[type]\n      fn = storage[operation].bind(storage)\n    }\n  } catch(e) {}\n  return fn || fallback\n}\n\nconst cache = {}\nexport function hasSupport(type) {\n  if (typeof cache[type] !== UNDEFINED) {\n    return cache[type]\n  }\n  try {\n    const storage = window[type]\n    // test for private safari\n    storage.setItem(UNDEFINED, UNDEFINED)\n    storage.removeItem(UNDEFINED)\n  } catch (err) {\n    return cache[type] = false\n  }\n  return cache[type] = true\n}\n\n/*\n// () => localStorage)\n// () => sessionStorage)\nexport function isSupported(getStorage) {\n  try {\n    const testKey = '__' + undef\n    getStorage().setItem(testKey, testKey)\n    getStorage().removeItem(testKey)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n*/\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}